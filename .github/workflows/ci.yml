name: CI Checks

# El workflow se ejecuta en el evento 'push' [cite: 147]
on: [push]

jobs:
  build:
    # Definimos la estrategia de matriz para las versiones de Python
    strategy:
      fail-fast: false
      matrix:
        python-version: ["3.10", "3.11", "3.12", "3.13", "3.14"] # Versiones de Python [cite: 150]
        os: [ubuntu-latest]

    runs-on: ${{ matrix.os }}

    steps:
    - uses: actions/checkout@v4

    # 1. Configurar Python
    - name: Set up Python ${{ matrix.python-version }}
      uses: actions/setup-python@v5
      with:
        python-version: ${{ matrix.python-version }}

    # 2. Instalar uv (el gestor de paquetes que usa el TP)
    - name: Install uv
      run: curl -LsSf https://astral.sh/uv/install.sh | sh

    # 3. Instalar dependencias con uv
    # Esto instala las dependencias de desarrollo (pre-commit) y producci√≥n (numpy)
    - name: Install Dependencies (uv sync)
      run: ~/.cargo/bin/uv sync

    # 4. Verificar herramientas (pre-commit) [cite: 145]
    - name: Run Pre-commit Hooks
      run: ~/.cargo/bin/uv run pre-commit run -a

    # 5. Ejecutar tests (unittest) [cite: 146]
    - name: Run Unit Tests
      run: ~/.cargo/bin/uv run python -m unittest
